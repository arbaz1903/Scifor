{% extends 'base.html' %}

{% block title %}Home - Todo Application{% endblock %}

{% block content %}
<div class="card shadow-sm">
  <div class="card-body">
    <h1 class="card-title text-center mb-4">My Todo List</h1>
    <form action="/" method="POST">
      <div class="mb-3">
        <label for="todoTitle" class="form-label fw-bold">Todo Title</label>
        <input type="text" class="form-control" name="todoTitle" id="todoTitle" placeholder="Write your todos here" required>
      </div>
      <div class="mb-3">
        <label for="todoDescription" class="form-label fw-bold">Description</label>
        <textarea class="form-control" name="todoDescription" id="todoDescription" rows="3" placeholder="Write a brief description" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary w-100">Add Todo</button>
    </form>
  </div>
</div>

<div class="card shadow-sm mt-4">
  <div class="card-body">
    <h2 class="card-title text-center mb-4">Todo List</h2>
    {% if not allTodo %}
      <p class="text-center text-muted">No records found.</p>
    {% else %}
      <table class="table table-striped table-hover">
        <thead class="table-primary">
          <tr>
            <th scope="col">SNo</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col">Date Created</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for todo in allTodo %}
            <tr>
              <th scope="row">{{ loop.index }}</th>
              <td>{{ todo.Title }}</td>
              <td>{{ todo.Description }}</td>
              <td>{{ todo.Date_Created.strftime('%Y-%m-%d %H:%M:%S') }}</td>
              <td>
                <a href="/update/{{ todo.SNo }}" class="btn btn-outline-dark btn-sm mx-1">Update</a>
                <a href="/delete/{{ todo.SNo }}" class="btn btn-outline-danger btn-sm mx-1">Delete</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
</div>
{% endblock %}
